#include "/vmm/bin/common.defs"
#include "/vmm/data/user_disks/vmxc/common.vmx.p3.defs"
#include "/vmm/data/user_disks/vptxc/common.evovptx.ardbeg.defs"
#include "/vmm/data/user_disks/vptxc/common.ardbeg.defs"
#undef gw_disk 
#define gw_disk basedisk "/vmm/data/user_disks/irzan/images/gw.qcow2";
#undef pa2_disk 
#define pa2_disk basedisk "/vmm/data/user_disks/irzan/images/paragon-2.0.0-disk1.qcow2";
#undef vjunos_router_disk 
#define vjunos_router_disk basedisk "/vmm/data/user_disks/irzan/images/vJunos-router-23.4R1.10.qcow2";
#undef ubuntu_disk 
#define ubuntu_disk basedisk "/vmm/data/user_disks/irzan/images/ubuntu22.04.qcow2";
#undef bridge_disk 
#define bridge_disk basedisk "/vmm/data/user_disks/irzan/images/bridge.qcow2";
config "pa2" {
    bridge "mgmt"{};
    bridge "control"{};
    bridge "pce"{};
    bridge "pe1ge0"{};
    bridge "pe1ge1"{};
    bridge "br1em1"{};
    bridge "br1em3"{};
    bridge "pe2ge0"{};
    bridge "pe2ge1"{};
    bridge "br1em5"{};
    bridge "br1em7"{};
    bridge "pe3ge0"{};
    bridge "pe3ge1"{};
    bridge "br3em4"{};
    bridge "br3em5"{};
    bridge "pe4ge0"{};
    bridge "pe4ge1"{};
    bridge "br3em7"{};
    bridge "br3em9"{};
    bridge "br1em2"{};
    bridge "br1em6"{};
    bridge "br1em9"{};
    bridge "br2em1"{};
    bridge "br2em3"{};
    bridge "br2em5"{};
    bridge "br1em4"{};
    bridge "br1em8"{};
    bridge "br1em10"{};
    bridge "br2em7"{};
    bridge "br2em2"{};
    bridge "br2em4"{};
    bridge "br3em1"{};
    bridge "br3em3"{};
    bridge "br3em8"{};
    bridge "br2em11"{};
    bridge "br3em2"{};
    bridge "br3em6"{};
    bridge "br3em10"{};
    bridge "br2em9"{};
    bridge "br2em6"{};
    bridge "br2em8"{};
    bridge "br2em12"{};
    bridge "br2em10"{};
    bridge "reserved_bridge"{};
    PRIVATE_BRIDGES
    vm "gw" {
       hostname "gw";
       gw_disk
       ncpus 2;
       memory 4096;
       setvar "+qemu_args" "-cpu qemu64,+vmx";
       install "/vmm/data/user_disks/irzan/vm/pa2/gw.conf" "/gw.conf";
       interface "em0" { bridge "external";};
       interface "em1" { bridge "mgmt";};
       interface "em2" { bridge "control";};
       interface "em3" { bridge "pce";};
        
    };
    vm "node1" {
       hostname "node1";
       pa2_disk
       disk "hdb" "/vmm/data/user_disks/irzan/vm/pa2/node1_disk2.img";
       ncpus 16;
       memory 32768;
       setvar "+qemu_args" "-cpu host,+vmx";
       setvar "enable_vnc" "1";
       install "/vmm/data/user_disks/irzan/vm/pa2/node1.conf" "/node1.conf";
       interface "em0" { bridge "control";};
        
    };
    vm "node2" {
       hostname "node2";
       pa2_disk
       disk "hdb" "/vmm/data/user_disks/irzan/vm/pa2/node2_disk2.img";
       ncpus 16;
       memory 32768;
       setvar "+qemu_args" "-cpu host,+vmx";
       setvar "enable_vnc" "1";
       install "/vmm/data/user_disks/irzan/vm/pa2/node2.conf" "/node2.conf";
       interface "em0" { bridge "control";};
        
    };
    vm "node3" {
       hostname "node3";
       pa2_disk
       disk "hdb" "/vmm/data/user_disks/irzan/vm/pa2/node3_disk2.img";
       ncpus 16;
       memory 32768;
       setvar "+qemu_args" "-cpu host,+vmx";
       setvar "enable_vnc" "1";
       install "/vmm/data/user_disks/irzan/vm/pa2/node3.conf" "/node3.conf";
       interface "em0" { bridge "control";};
        
    };
    vm "node4" {
       hostname "node4";
       pa2_disk
       disk "hdb" "/vmm/data/user_disks/irzan/vm/pa2/node4_disk2.img";
       ncpus 16;
       memory 32768;
       setvar "+qemu_args" "-cpu host,+vmx";
       setvar "enable_vnc" "1";
       install "/vmm/data/user_disks/irzan/vm/pa2/node4.conf" "/node4.conf";
       interface "em0" { bridge "control";};
        
    };
    vm "pe1" {
       hostname "pe1";
       vjunos_router_disk
       ncpus 4;
       memory 8196;
       setvar "+qemu_args" "-cpu host,+vmx -smbios type=1,product=VM-VMX,family=lab";
       install "/vmm/data/user_disks/irzan/vm/pa2/pe1.conf" "/pe1.conf";
       interface "vio0" { bridge "mgmt";};
       interface "vio1" { bridge "pe1ge0";};
       interface "vio2" { bridge "pe1ge1";};
       interface "vio3" { bridge "br1em1";};
       interface "vio4" { bridge "br1em3";};
        
    };
    vm "pe2" {
       hostname "pe2";
       vjunos_router_disk
       ncpus 4;
       memory 8196;
       setvar "+qemu_args" "-cpu host,+vmx -smbios type=1,product=VM-VMX,family=lab";
       install "/vmm/data/user_disks/irzan/vm/pa2/pe2.conf" "/pe2.conf";
       interface "vio0" { bridge "mgmt";};
       interface "vio1" { bridge "pe2ge0";};
       interface "vio2" { bridge "pe2ge1";};
       interface "vio3" { bridge "br1em7";};
       interface "vio4" { bridge "br1em5";};
        
    };
    vm "pe3" {
       hostname "pe3";
       vjunos_router_disk
       ncpus 4;
       memory 8196;
       setvar "+qemu_args" "-cpu host,+vmx -smbios type=1,product=VM-VMX,family=lab";
       install "/vmm/data/user_disks/irzan/vm/pa2/pe3.conf" "/pe3.conf";
       interface "vio0" { bridge "mgmt";};
       interface "vio1" { bridge "pe3ge0";};
       interface "vio2" { bridge "pe3ge1";};
       interface "vio3" { bridge "br3em4";};
       interface "vio4" { bridge "br3em5";};
        
    };
    vm "pe4" {
       hostname "pe4";
       vjunos_router_disk
       ncpus 4;
       memory 8196;
       setvar "+qemu_args" "-cpu host,+vmx -smbios type=1,product=VM-VMX,family=lab";
       install "/vmm/data/user_disks/irzan/vm/pa2/pe4.conf" "/pe4.conf";
       interface "vio0" { bridge "mgmt";};
       interface "vio1" { bridge "pe4ge0";};
       interface "vio2" { bridge "pe4ge1";};
       interface "vio3" { bridge "br3em7";};
       interface "vio4" { bridge "br3em9";};
        
    };
    vm "p1" {
       hostname "p1";
       vjunos_router_disk
       ncpus 4;
       memory 8196;
       setvar "+qemu_args" "-cpu host,+vmx -smbios type=1,product=VM-VMX,family=lab";
       install "/vmm/data/user_disks/irzan/vm/pa2/p1.conf" "/p1.conf";
       interface "vio0" { bridge "mgmt";};
       interface "vio1" { bridge "br1em2";};
       interface "vio2" { bridge "br1em6";};
       interface "vio3" { bridge "br1em9";};
       interface "vio4" { bridge "br2em1";};
       interface "vio5" { bridge "br2em3";};
       interface "vio6" { bridge "br2em5";};
        
    };
    vm "p2" {
       hostname "p2";
       vjunos_router_disk
       ncpus 4;
       memory 8196;
       setvar "+qemu_args" "-cpu host,+vmx -smbios type=1,product=VM-VMX,family=lab";
       install "/vmm/data/user_disks/irzan/vm/pa2/p2.conf" "/p2.conf";
       interface "vio0" { bridge "mgmt";};
       interface "vio1" { bridge "br1em4";};
       interface "vio2" { bridge "br1em8";};
       interface "vio3" { bridge "br1em10";};
       interface "vio4" { bridge "br2em7";};
        
    };
    vm "p3" {
       hostname "p3";
       vjunos_router_disk
       ncpus 4;
       memory 8196;
       setvar "+qemu_args" "-cpu host,+vmx -smbios type=1,product=VM-VMX,family=lab";
       install "/vmm/data/user_disks/irzan/vm/pa2/p3.conf" "/p3.conf";
       interface "vio0" { bridge "mgmt";};
       interface "vio1" { bridge "br3em3";};
       interface "vio2" { bridge "br3em8";};
       interface "vio3" { bridge "br3em1";};
       interface "vio4" { bridge "br2em2";};
       interface "vio5" { bridge "br2em4";};
       interface "vio6" { bridge "br2em11";};
        
    };
    vm "p4" {
       hostname "p4";
       vjunos_router_disk
       ncpus 4;
       memory 8196;
       setvar "+qemu_args" "-cpu host,+vmx -smbios type=1,product=VM-VMX,family=lab";
       install "/vmm/data/user_disks/irzan/vm/pa2/p4.conf" "/p4.conf";
       interface "vio0" { bridge "mgmt";};
       interface "vio1" { bridge "br3em6";};
       interface "vio2" { bridge "br3em10";};
       interface "vio3" { bridge "br3em2";};
       interface "vio4" { bridge "br2em9";};
        
    };
    vm "p5" {
       hostname "p5";
       vjunos_router_disk
       ncpus 4;
       memory 8196;
       setvar "+qemu_args" "-cpu host,+vmx -smbios type=1,product=VM-VMX,family=lab";
       install "/vmm/data/user_disks/irzan/vm/pa2/p5.conf" "/p5.conf";
       interface "vio0" { bridge "mgmt";};
       interface "vio1" { bridge "pce";};
       interface "vio2" { bridge "br2em6";};
       interface "vio3" { bridge "br2em8";};
       interface "vio4" { bridge "br2em12";};
       interface "vio5" { bridge "br2em10";};
        
    };
    vm "client" {
       hostname "client";
       ubuntu_disk
       ncpus 4;
       memory 16384;
       setvar "+qemu_args" "-cpu host,+vmx";
       setvar "enable_vnc" "1";
       install "/vmm/data/user_disks/irzan/vm/pa2/client.conf" "/client.conf";
       interface "em0" { bridge "mgmt";};
       interface "em1" { bridge "pe1ge0";};
       interface "em2" { bridge "pe1ge1";};
       interface "em3" { bridge "pe2ge0";};
       interface "em4" { bridge "pe2ge1";};
       interface "em5" { bridge "pe3ge0";};
       interface "em6" { bridge "pe3ge1";};
       interface "em7" { bridge "pe4ge0";};
       interface "em8" { bridge "pe4ge1";};
        
    };
    vm "br1" {
       hostname "br1";
       bridge_disk
       ncpus 2;
       memory 2048;
       setvar "+qemu_args" "-cpu qemu64,+vmx";
       install "/vmm/data/user_disks/irzan/vm/pa2/br1.conf" "/br1.conf";
       interface "em0" { bridge "mgmt";};
       interface "em1" { bridge "br1em1";};
       interface "em10" { bridge "br1em10";};
       interface "em2" { bridge "br1em2";};
       interface "em3" { bridge "br1em3";};
       interface "em4" { bridge "br1em4";};
       interface "em5" { bridge "br1em5";};
       interface "em6" { bridge "br1em6";};
       interface "em7" { bridge "br1em7";};
       interface "em8" { bridge "br1em8";};
       interface "em9" { bridge "br1em9";};
        
    };
    vm "br2" {
       hostname "br2";
       bridge_disk
       ncpus 2;
       memory 2048;
       setvar "+qemu_args" "-cpu qemu64,+vmx";
       install "/vmm/data/user_disks/irzan/vm/pa2/br2.conf" "/br2.conf";
       interface "em0" { bridge "mgmt";};
       interface "em1" { bridge "br2em1";};
       interface "em10" { bridge "br2em10";};
       interface "em11" { bridge "br2em11";};
       interface "em12" { bridge "br2em12";};
       interface "em2" { bridge "br2em2";};
       interface "em3" { bridge "br2em3";};
       interface "em4" { bridge "br2em4";};
       interface "em5" { bridge "br2em5";};
       interface "em6" { bridge "br2em6";};
       interface "em7" { bridge "br2em7";};
       interface "em8" { bridge "br2em8";};
       interface "em9" { bridge "br2em9";};
        
    };
    vm "br3" {
       hostname "br3";
       bridge_disk
       ncpus 2;
       memory 2048;
       setvar "+qemu_args" "-cpu qemu64,+vmx";
       install "/vmm/data/user_disks/irzan/vm/pa2/br3.conf" "/br3.conf";
       interface "em0" { bridge "mgmt";};
       interface "em1" { bridge "br3em1";};
       interface "em10" { bridge "br3em10";};
       interface "em2" { bridge "br3em2";};
       interface "em3" { bridge "br3em3";};
       interface "em4" { bridge "br3em4";};
       interface "em5" { bridge "br3em5";};
       interface "em6" { bridge "br3em6";};
       interface "em7" { bridge "br3em7";};
       interface "em8" { bridge "br3em8";};
       interface "em9" { bridge "br3em9";};
        
    };
    
};
